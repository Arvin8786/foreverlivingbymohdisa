<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Forever Living by Mohd Arvinsd Isa - Grand Opening Special</title>
  
  <!-- Google Fonts & Font Awesome Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root {
      --primary-color: #1a5276;
      --secondary-color: #f39c12;
      --accent-color: #27ae60;
      --light-gray: #f4f6f8;
      --dark-text: #333;
      --light-text: #fff;
      --border-radius: 12px;
      --shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
      --font-family: 'Poppins', sans-serif;
    }

    /* --- Base Styles --- */
    *, *::before, *::after {
        box-sizing: border-box;
    }

    body {
      font-family: var(--font-family);
      margin: 0;
      padding: 0;
      background-color: var(--light-gray);
      color: var(--dark-text);
      overflow-x: hidden;
      line-height: 1.6;
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
    }

    h1, h2, h3, h4 {
        color: var(--primary-color);
        font-weight: 600;
    }

    /* --- Header & Navigation --- */
    header {
      background-color: var(--light-text);
      padding: 20px 0;
      text-align: center;
      border-bottom: 1px solid #e0e0e0;
      position: relative;
    }
    
    .cart-icon {
      position: absolute;
      right: 30px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.5rem;
      cursor: pointer;
      color: var(--primary-color);
      transition: color 0.3s;
    }
    .cart-icon:hover { color: var(--accent-color); }
    #cart-count {
        background-color: var(--secondary-color);
        color: var(--light-text);
        border-radius: 50%;
        padding: 2px 7px;
        font-size: 0.8rem;
        font-weight: bold;
        position: absolute;
        top: -5px;
        right: -10px;
        border: 2px solid var(--light-text);
    }

    nav {
      background-color: var(--primary-color);
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    nav ul {
      display: flex;
      list-style: none;
      padding: 10px 0;
      margin: 0;
      justify-content: center;
      flex-wrap: wrap;
    }
    nav a {
      color: var(--light-text);
      text-decoration: none;
      font-weight: 600;
      padding: 10px 20px;
      display: inline-block;
      position: relative;
      transition: color 0.3s;
    }
    nav a::after {
      content: '';
      position: absolute;
      bottom: 5px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 2px;
      background-color: var(--secondary-color);
      transition: width 0.3s;
    }
    nav a:hover { color: #f1c40f; }
    nav a:hover::after { width: 60%; }

    /* --- Tab Content --- */
    .tab-content {
      display: none;
      padding: 20px 0;
    }
    .tab-content.active { display: block; animation: fadeIn 0.5s; }
    
    /* --- Hero Section --- */
    .hero-section {
      background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
      color: var(--light-text);
      padding: 60px 20px;
      text-align: center;
      border-radius: var(--border-radius);
      margin-bottom: 30px;
      position: relative;
      overflow: hidden;
    }
    .hero-section h2 {
      font-size: 2.8rem;
      color: var(--light-text);
      margin: 0 0 10px 0;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }
    .hero-section p {
      font-size: 1.2rem;
      margin: 10px 0 20px;
    }
    .hero-section .promo-period {
        background-color: rgba(255, 255, 255, 0.15);
        padding: 10px 20px;
        border-radius: 50px;
        display: inline-block;
        font-weight: 600;
    }

    /* --- Search & AI Suggestion --- */
    .search-container {
      margin-bottom: 30px;
      position: relative;
    }
    #product-search {
      width: 100%;
      padding: 15px 50px 15px 25px;
      border: 2px solid #ddd;
      border-radius: 50px;
      font-size: 1rem;
      outline: none;
      transition: all 0.3s;
    }
    #product-search:focus {
      border-color: var(--primary-color);
      box-shadow: 0 0 10px rgba(26, 82, 118, 0.2);
    }
    .search-icon {
      position: absolute;
      right: 25px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--primary-color);
      font-size: 1.2rem;
    }

    .ai-suggestion-box {
      background: var(--light-text);
      padding: 30px;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      margin-bottom: 30px;
      text-align: center;
    }
    #symptom-input {
        width: 100%;
        padding: 12px;
        border: 1px solid #ddd;
        border-radius: 8px;
        margin: 10px 0;
    }
    #suggest-btn {
      background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
      color: var(--light-text);
      border: none;
      padding: 12px 30px;
      border-radius: 50px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s;
      margin-top: 10px;
    }
    #suggest-btn:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
    #suggestion-result {
        margin-top: 20px;
        text-align: left;
    }
    .suggestion-product {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      margin: 10px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-left: 4px solid var(--accent-color);
    }

    /* --- Product List --- */
    .product-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 30px;
    }
    .product {
      background: var(--light-text);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      text-align: center;
      display: flex;
      flex-direction: column;
      position: relative;
      transition: all 0.3s ease;
      overflow: hidden;
    }
    .product:hover {
      transform: translateY(-8px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.12);
    }
    .product-image-container {
        height: 220px;
        padding: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .product img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
    }
    .product-info {
        padding: 20px;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        text-align: left;
    }
    .product h3 { margin: 0 0 10px; font-size: 1.25rem; height: 3.75rem; /* for 2 lines */ overflow: hidden; }
    .product .benefits { font-size: 0.85rem; color: #555; margin: 10px 0; flex-grow: 1; }
    .product .consumption { font-size: 0.85rem; color: var(--primary-color); font-style: italic; margin: 10px 0; }
    .price-section { margin: 15px 0; text-align: center; }
    .original-price { text-decoration: line-through; color: #999; font-size: 1rem; margin-right: 10px; }
    .new-price { color: var(--secondary-color); font-weight: bold; font-size: 1.5rem; }
    .product-actions { margin-top: auto; display: flex; flex-direction: column; gap: 10px; }
    .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 10px 15px;
        border-radius: 50px;
        text-decoration: none;
        font-weight: bold;
        border: none;
        cursor: pointer;
        transition: all 0.3s;
    }
    .btn-primary { background: var(--primary-color); color: var(--light-text); }
    .btn-primary:hover { background: #123e5a; transform: scale(1.05); }
    .btn-whatsapp { background: #25D366; color: var(--light-text); }
    .btn-whatsapp:hover { background: #128C7E; transform: scale(1.05); }

    /* --- Special Offer Badge --- */
    .featured-badge {
      position: absolute;
      top: 15px;
      right: -40px;
      background: var(--secondary-color);
      color: white;
      padding: 5px 40px;
      transform: rotate(45deg);
      font-weight: bold;
      font-size: 0.9rem;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    }
    
    /* --- CDS & Business Sections --- */
    .program-section {
        background: var(--light-text);
        padding: 40px;
        border-radius: var(--border-radius);
        box-shadow: var(--shadow);
        margin-bottom: 30px;
    }
    .program-section h2 { font-size: 2.5rem; text-align: center; }
    .program-highlights {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-around;
      margin: 30px 0;
      gap: 20px;
    }
    .highlight-card {
        flex: 1;
        min-width: 280px;
        background: var(--light-gray);
        border: 1px solid #e0e0e0;
        border-radius: var(--border-radius);
        padding: 20px;
        transition: transform 0.3s, box-shadow 0.3s;
    }
    .highlight-card:hover { transform: translateY(-5px); box-shadow: var(--shadow); }
    .highlight-card h3 { border-bottom: 2px solid var(--primary-color); padding-bottom: 10px; }
    .highlight-card ul { list-style: none; padding: 0; }
    .highlight-card li { margin-bottom: 10px; display: flex; align-items: flex-start; }
    .highlight-card .fa-solid { color: var(--accent-color); margin-right: 10px; margin-top: 5px; }
    .testimonial {
      background: #f0f8f0;
      padding: 20px;
      border-left: 4px solid var(--accent-color);
      margin: 20px 0;
      font-style: italic;
      border-radius: 0 8px 8px 0;
    }
    .testimonial-author {
      text-align: right;
      font-weight: bold;
      color: var(--primary-color);
    }
    .cta-button {
      display: block;
      width: fit-content;
      margin: 30px auto;
      background: linear-gradient(135deg, var(--secondary-color), #e67e22);
      color: var(--light-text);
      text-align: center;
      padding: 15px 40px;
      border-radius: 50px;
      font-weight: bold;
      text-decoration: none;
      font-size: 1.2rem;
      transition: all 0.3s;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .cta-button:hover { transform: translateY(-3px); box-shadow: 0 6px 12px rgba(0,0,0,0.3); }

    /* --- Footer --- */
    footer {
        background: var(--primary-color);
        color: var(--light-text);
        padding: 40px 20px;
        text-align: center;
        margin-top: 30px;
    }
    .disclaimer {
        margin-top: 20px;
        background-color: rgba(255,255,255,0.1);
        color: #ddd;
        padding: 15px;
        border-radius: var(--border-radius);
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
    }
    
    /* --- Modal Styles --- */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.6);
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.4s ease;
    }
    .modal-content {
      background-color: #fefefe;
      padding: 30px;
      border-radius: var(--border-radius);
      width: 90%;
      max-width: 600px;
      animation: slideIn 0.4s ease;
    }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes slideIn { from { opacity: 0; transform: translateY(-30px); } to { opacity: 1; transform: translateY(0); } }
    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
      transition: color 0.3s;
    }
    .close:hover { color: black; }

    /* --- Cart Styles --- */
    #cart-items { max-height: 300px; overflow-y: auto; padding-right: 10px; }
    .cart-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid #eee;
    }
    .cart-total {
        font-weight: bold;
        font-size: 1.2rem;
        text-align: right;
        margin-top: 20px;
    }
    .checkout-btn {
        width: 100%;
        margin-top: 15px;
    }

    /* --- Festival Popup --- */
    #festival-modal .modal-content {
      border: 4px solid var(--accent-color);
      text-align: center;
    }
    #festival-modal .festival-title { color: var(--primary-color); font-size: 2.2rem; }
    #festival-modal .festival-message { font-size: 1.1rem; }
    #festival-modal .festival-offer {
        background: linear-gradient(135deg, var(--accent-color), var(--secondary-color));
        padding: 15px;
        border-radius: 8px;
        font-weight: bold;
        font-size: 1.3rem;
        margin-bottom: 20px;
        color: white;
    }
  </style>
</head>
<body>

  <header>
    <div class="container">
        <h1>
          FOREVER LIVING by Mohd Arvind Isa
          <span style="font-size: 1rem; color: #555; display: block; font-weight: 400;">Quality Wellness Products</span>
        </h1>
        <div class="cart-icon" onclick="toggleCart()">
          <i class="fa-solid fa-cart-shopping"></i>
          <span id="cart-count">0</span>
        </div>
    </div>
  </header>

  <nav>
    <div class="container">
        <ul>
          <li><a href="#" onclick="showTab('products')">Products</a></li>
          <li><a href="#" onclick="showTab('cds')">Cabaran Detox Sihat @CDS</a></li>
          <li><a href="#" onclick="showTab('business')">Business Opportunity</a></li>
          <li><a href="#" onclick="showTab('rewards')">Rewards</a></li>
        </ul>
    </div>
  </nav>

  <main class="container">
    <div id="products" class="tab-content active">
      <section class="hero-section">
        <h2><i class="fa-solid fa-gift"></i> GRAND OPENING SPECIAL</h2>
        <p>Enjoy 5% OFF on our top 10 bestselling products!</p>
        <div class="promo-period">
            Promotion Period: 21/7/2025 - 24/8/2025
        </div>
      </section>

      <div class="search-container">
        <input type="text" id="product-search" placeholder="Search for products...">
        <span class="search-icon"><i class="fa-solid fa-magnifying-glass"></i></span>
      </div>

      <div class="ai-suggestion-box">
        <h2><i class="fa-solid fa-robot"></i> AI Product Suggestion</h2>
        <p>Tell our AI your symptoms, and we'll recommend the best products for you.</p>
        <input type="text" id="symptom-input" placeholder="e.g., joint pain, low energy, digestion issues...">
        <button id="suggest-btn" onclick="suggestProduct()">Get Suggestions</button>
        <div id="suggestion-result"></div>
      </div>
      
      <h2 style="text-align: center; font-size: 2.2rem; margin: 40px 0 30px;">Our Products</h2>
      <div id="product-list" class="product-list"></div>
    </div>

    <div id="cds" class="tab-content">
      <section class="program-section">
        <h2>Cabaran Detox Sihat (CDS)</h2>
        <p style="text-align: center; font-size: 1.2rem;">Transform your health in just 7 days with our proven detox program</p>
        
        <div class="program-highlights">
          <div class="highlight-card">
            <h3><i class="fa-solid fa-box-open"></i> What You Get</h3>
            <ul>
              <li><i class="fa-solid fa-check-circle"></i> Personalized Forever product package</li>
              <li><i class="fa-solid fa-check-circle"></i> Detailed meal plan & recipes</li>
              <li><i class="fa-solid fa-check-circle"></i> Daily coaching via WhatsApp</li>
              <li><i class="fa-solid fa-check-circle"></i> Private support community</li>
            </ul>
          </div>
          
          <div class="highlight-card">
            <h3><i class="fa-solid fa-spa"></i> Benefits</h3>
            <ul>
              <li><i class="fa-solid fa-check-circle"></i> Boost energy levels</li>
              <li><i class="fa-solid fa-check-circle"></i> Natural detoxification</li>
              <li><i class="fa-solid fa-check-circle"></i> Healthy weight management</li>
              <li><i class="fa-solid fa-check-circle"></i> Improved mental clarity</li>
            </ul>
          </div>
        </div>
        
        <div class="testimonial">
          <p>"After completing CDS, I lost 3kg and my chronic bloating disappeared. I now have so much more energy throughout the day!"</p>
          <p class="testimonial-author">- Aina S., Kuala Lumpur</p>
        </div>
        
        <a href="https://wa.me/601111033154?text=I%20want%20to%20join%20CDS%20Program" class="cta-button">Join CDS Now <i class="fa-solid fa-arrow-right"></i></a>
      </section>
    </div>

    <div id="business" class="tab-content">
      <section class="program-section">
        <h2>Build Your Forever Business</h2>
        <p style="text-align: center; font-size: 1.2rem;">Start your journey to financial freedom with our proven system</p>
        
        <div class="program-highlights">
          <div class="highlight-card">
            <h3><i class="fa-solid fa-briefcase"></i> Why Join Us?</h3>
            <ul>
              <li><i class="fa-solid fa-check-circle"></i> Earn 30-50% commission</li>
              <li><i class="fa-solid fa-check-circle"></i> Work from anywhere</li>
              <li><i class="fa-solid fa-check-circle"></i> Flexible hours</li>
              <li><i class="fa-solid fa-check-circle"></i> Unlimited income potential</li>
            </ul>
          </div>
          
          <div class="highlight-card">
            <h3><i class="fa-solid fa-handshake-angle"></i> What We Provide</h3>
            <ul>
              <li><i class="fa-solid fa-check-circle"></i> Complete training program</li>
              <li><i class="fa-solid fa-check-circle"></i> Marketing materials & mentorship</li>
              <li><i class="fa-solid fa-check-circle"></i> Strong team support</li>
              <li><i class="fa-solid fa-check-circle"></i> Recognition & rewards</li>
            </ul>
          </div>
        </div>
        
        <div class="testimonial">
          <p>"I joined Forever Living 2 years ago as a side hustle. Today it's my full-time business earning me RM15,000 monthly!"</p>
          <p class="testimonial-author">- Ahmad F., Penang</p>
        </div>
        
        <a href="https://wa.me/601111033154?text=I%20want%20to%20join%20Forever%20Business" class="cta-button">Start Your Business Today <i class="fa-solid fa-arrow-right"></i></a>
      </section>
    </div>

    <div id="rewards" class="tab-content">
        <section class="hero-section">
            <h2><i class="fa-solid fa-star"></i> Exciting Rewards Coming Soon!</h2>
            <p>Stay tuned for our amazing loyalty program.</p>
        </section>
    </div>
  </main>

  <!-- Cart Modal -->
  <div id="cart-modal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="toggleCart()">×</span>
      <h2>Your Shopping Cart</h2>
      <div id="cart-items"><p>Your cart is currently empty.</p></div>
      <div class="cart-total">Total: RM <span id="cart-total">0.00</span></div>
      
      <div class="customer-info-form">
        <h3 style="margin-top: 20px;">Customer Information</h3>
        <input type="text" id="customer-name" placeholder="Your Full Name" required style="width: 100%; padding: 10px; margin: 8px 0; border: 1px solid #ddd; border-radius: 4px;">
        <input type="tel" id="customer-phone" placeholder="Your WhatsApp Number" required style="width: 100%; padding: 10px; margin: 8px 0; border: 1px solid #ddd; border-radius: 4px;">
        <button class="btn btn-primary checkout-btn" onclick="checkout()">Complete Order via WhatsApp</button>
      </div>
    </div>
  </div>

  <!-- Festival Popup Modal -->
  <div id="festival-modal" class="modal" style="display: flex;">
    <div class="modal-content">
      <span class="close" onclick="closeFestivalModal()">×</span>
      <h2 class="festival-title">Online Store Opening Sale!</h2>
      <img src="https://via.placeholder.com/600x200/1a5276/f39c12?text=Welcome+to+Our+Store" alt="Grand Opening Banner" style="max-width:100%; border-radius: 8px; margin-bottom: 20px;">
      <p class="festival-message">Welcome to our online store! Enjoy special opening discounts on selected products.</p>
      <div class="festival-offer">5% OFF on Top Products!</div>
      <button class="btn btn-primary" onclick="closeFestivalModal()" style="width: auto; margin: 0 auto; padding: 10px 30px;">Start Shopping</button>
    </div>
  </div>

  <footer>
    <div class="container">
      <p>© 2025 Forever Living by Mohd Arvind Isa. Powered by Rich Academy Global. All rights reserved.</p>
      <div class="timestamp">Last updated: <span id="current-date"></span></div>
      <div class="disclaimer">
        <strong>Disclaimer:</strong> This website is operated by an independent Registered Forever Business Owner (FBO) under Rich Academy Global and is not the official site of Forever Living Products. Product names, trademarks, and registered trademarks are property of Forever Living Products International, Inc.
      </div>
    </div>
  </footer>

  <script>
    // --- DATA (Products, Suggestions) ---
    // This section is unchanged as requested.
    const products = [
      { id: 1, name: "Aloe Vera Gel", price: 116.79, image: "aloe-vera-gel.jpg", benefits: "Supports digestion, boosts immunity, promotes skin health, enhances nutrient absorption, helps detoxify the body", consumption: "Take 30-60ml daily, preferably on empty stomach", bestSeller: true, grandOpeningSpecial: true },
      { id: 2, name: "Aloe Berry Nectar", price: 116.79, image: "aloe-berry-nectar.jpg", benefits: "Antioxidant support, immune system booster, natural energy, supports urinary health, rich in vitamin C", consumption: "30-60ml daily, can be mixed with water or juice", bestSeller: true, grandOpeningSpecial: true },
      { id: 3, name: "Bee Honey", price: 132.57, image: "bee-honey.jpg", benefits: "Natural energy, soothes throat, antioxidant properties, supports digestion, promotes wound healing", consumption: "1-2 teaspoons daily, can be added to drinks", bestSeller: true, grandOpeningSpecial: true },
      { id: 4, name: "Royal Jelly", price: 139.21, image: "royal-jelly.jpg", benefits: "Energy booster, supports immune system, anti-aging, hormone balance, supports skin renewal", consumption: "1 tablet daily, preferably in the morning", bestSeller: true, grandOpeningSpecial: true },
      { id: 5, name: "Bee Propolis", price: 139.21, image: "bee-propolis.jpg", benefits: "Immune support, natural antibiotic, throat health, anti-inflammatory, promotes oral health", consumption: "1 tablet daily or as needed", bestSeller: true, grandOpeningSpecial: true },
      { id: 6, name: "Arctic Sea", price: 130.10, image: "arctic-sea.jpg", benefits: "Heart health, joint support, brain function, supports vision, reduces inflammation", consumption: "2 softgels twice daily with meals", bestSeller: true, grandOpeningSpecial: true },
      { id: 7, name: "Fields of Greens", price: 86.10, image: "fields-of-greens.jpg", benefits: "Detoxification, digestion, alkalizing, supports weight management, rich in chlorophyll", consumption: "1 tablet 3 times daily with water", bestSeller: true, grandOpeningSpecial: true },
      { id: 8, name: "Aloe First", price: 93.40, image: "aloe-first.jpg", benefits: "Skin hydration, cooling relief, wound soothing, relieves sunburn, pre-hair treatment spray", consumption: "Spray directly on skin as needed", bestSeller: true, grandOpeningSpecial: true },
      { id: 9, name: "Aloe Propolis Creme", price: 92.08, image: "aloe-propolis-creme.jpg", benefits: "Skin repair, moisturizing, protective barrier, soothes irritated skin, supports healing of minor cuts", consumption: "Apply generously on dry or irritated areas", bestSeller: true, grandOpeningSpecial: true },
      { id: 10, name: "Forever Bright Toothgel", price: 31.62, image: "bright-toothgel.jpg", benefits: "Fluoride-free, fresh breath, aloe-based care, gentle on gums, whitens teeth naturally", consumption: "Brush teeth twice daily", bestSeller: true, grandOpeningSpecial: true },
      { id: 11, name: "Aloe Peaches", price: 116.79, image: "aloe-peaches.jpg", benefits: "Digestive health, vitamin C source, natural detoxification, maintains healthy skin, supports kidney function", consumption: "30-60ml daily, refrigerate after opening" },
      { id: 12, name: "Bee Pollen", price: 75.50, image: "bee-pollen.jpg", benefits: "Natural multivitamin, energy enhancement, allergy relief, improves stamina, supports cardiovascular health", consumption: "1 tablet 3 times daily with meals" },
      { id: 13, name: "Absorbent-C", price: 75.50, image: "absorbent-c.jpg", benefits: "Immune support, collagen production, antioxidant, helps iron absorption, supports healthy skin", consumption: "1-2 tablets daily with meals" },
      { id: 14, name: "Calcium Plus", price: 132.15, image: "calcium-plus.jpg", benefits: "Bone support, muscle health, calcium + vitamin D, supports nerve function, helps prevent osteoporosis", consumption: "2 tablets daily with meals" },
      { id: 15, name: "Aloe Liquid Soap", price: 54.72, image: "aloe-liquid-soap.jpg", benefits: "Gentle cleansing, moisturizes skin, aloe-based formula, suitable for sensitive skin, pH-balanced", consumption: "Use daily for face and body cleansing" },
      { id: 16, name: "Aloe Jojoba Shampoo", price: 91.66, image: "aloe-jojoba-shampoo.jpg", benefits: "Hair nourishment, scalp care, sulfate-free, promotes hair strength, natural shine", consumption: "Massage into wet hair, rinse thoroughly" },
      { id: 17, name: "Aloe Jojoba Conditioner", price: 91.66, image: "aloe-jojoba-conditioner.jpg", benefits: "Moisturizing, smooth finish, aloe + jojoba, strengthens hair strands, prevents breakage", consumption: "Apply after shampoo, leave 1-2 minutes, rinse" },
      { id: 18, name: "Aloe Sunscreen", price: 84.91, image: "aloe-sunscreen.jpg", benefits: "UV protection, aloe-based, water-resistant, suitable for sensitive skin, prevents sunburn", consumption: "Apply 15 minutes before sun exposure" },
      { id: 19, name: "Aloe MPD 2X Ultra", price: 114.47, image: "aloe-mp-lotion.jpg", benefits: "Multi-purpose cleaner, concentrated, eco-friendly, gentle on skin, biodegradable formula", consumption: "Dilute as needed for laundry, dishes or surfaces" },
      { id: 20, name: "Avocado Face & Body Soap", price: 23.40, image: "avocado-soap.jpg", benefits: "Softens skin, gentle cleansing, avocado oil-rich, suitable for all skin types, non-drying", consumption: "Use daily for face and body" },
      { id: 21, name: "Aloe Lips", price: 17.92, image: "aloe-lips.jpg", benefits: "Lip protection, moisturizes, healing balm, soothes cracked lips, non-greasy finish", consumption: "Apply on lips as needed throughout the day" },
      { id: 22, name: "Forever Deodorant Stick", price: 34.91, image: "forever-deodorant.jpg", benefits: "Natural fragrance, aloe soothing, easy glide, long-lasting protection, non-staining", consumption: "Use after shower daily" },
      { id: 23, name: "Teh Tarik Halia", price: 25.90, image: "teh-tarik.jpg", benefits: "Warming effect, digestion aid, ginger-infused, improves circulation, relieves bloating", consumption: "Mix sachet with hot water and stir well" },
      { id: 24, name: "Choco Malt Drink", price: 27.90, image: "choco-malt.jpg", benefits: "Rich in B vitamins, iron for red blood cell production, supports metabolism, promotes growth, aids recovery after fatigue", consumption: "Mix 2-3 tablespoons in 150–200ml hot water or milk" }
    ];
    const productSuggestions = { "digestion": { id: 1, name: "Aloe Vera Gel", recommendation: "30-60ml daily on empty stomach for digestive support" }, "bloating": { id: 1, name: "Aloe Vera Gel", recommendation: "30-60ml daily to reduce bloating" }, "constipation": { id: 1, name: "Aloe Vera Gel", recommendation: "30-60ml daily to support regular bowel movements" }, "diarrhea": { id: 5, name: "Bee Propolis", recommendation: "1 tablet daily to support gut health during diarrhea" }, "acid reflux": { id: 1, name: "Aloe Vera Gel", recommendation: "30ml before meals to soothe digestive tract" }, "heartburn": { id: 1, name: "Aloe Vera Gel", recommendation: "30ml before meals to calm heartburn" }, "indigestion": { id: 7, name: "Fields of Greens", recommendation: "1 tablet before meals for better digestion" }, "nausea": { id: 4, name: "Royal Jelly", recommendation: "1 tablet to help settle stomach" }, "ibs": { id: 1, name: "Aloe Vera Gel", recommendation: "30ml twice daily to soothe IBS symptoms" }, "gas": { id: 7, name: "Fields of Greens", recommendation: "1 tablet three times daily to reduce gas" }, "stomachache": { id: 1, name: "Aloe Vera Gel", recommendation: "30ml to soothe stomach discomfort" }, "upset stomach": { id: 1, name: "Aloe Vera Gel", recommendation: "30ml as needed for stomach relief" }, "gastritis": { id: 1, name: "Aloe Vera Gel", recommendation: "30ml before meals to help with gastritis" }, "ulcer": { id: 1, name: "Aloe Vera Gel", recommendation: "30ml before meals to support ulcer healing" }, "crohn's": { id: 1, name: "Aloe Vera Gel", recommendation: "30ml twice daily for digestive support" }, "cold": { id: 5, name: "Bee Propolis", recommendation: "1 tablet daily at first sign of cold" }, "flu": { id: 5, name: "Bee Propolis", recommendation: "2 tablets daily during flu" }, "fever": { id: 5, name: "Bee Propolis", recommendation: "1 tablet every 4 hours during fever" }, "cough": { id: 3, name: "Bee Honey", recommendation: "1 teaspoon as needed to soothe throat" }, "sore throat": { id: 3, name: "Bee Honey", recommendation: "1 teaspoon every 2 hours to relieve throat" }, "allergies": { id: 6, name: "Bee Pollen", recommendation: "1 tablet daily to help with seasonal allergies" }, "sinus": { id: 5, name: "Bee Propolis", recommendation: "1 tablet twice daily for sinus relief" }, "infection": { id: 5, name: "Bee Propolis", recommendation: "1 tablet three times daily to fight infection" }, "runny nose": { id: 5, name: "Bee Propolis", recommendation: "1 tablet twice daily for respiratory support" }, "congestion": { id: 5, name: "Bee Propolis", recommendation: "1 tablet twice daily to clear congestion" }, "sneezing": { id: 6, name: "Bee Pollen", recommendation: "1 tablet daily for allergy-related sneezing" }, "itchy eyes": { id: 6, name: "Bee Pollen", recommendation: "1 tablet daily for allergy symptoms" }, "weak immunity": { id: 5, name: "Bee Propolis", recommendation: "1 tablet daily for immune support" }, "frequent illness": { id: 5, name: "Bee Propolis", recommendation: "1 tablet daily to strengthen immunity" }, "fatigue": { id: 4, name: "Royal Jelly", recommendation: "1 tablet each morning for energy" }, "low energy": { id: 4, name: "Royal Jelly", recommendation: "1 tablet morning and afternoon" }, "tiredness": { id: 4, name: "Royal Jelly", recommendation: "1 tablet upon waking" }, "weakness": { id: 4, name: "Royal Jelly", recommendation: "1 tablet twice daily for vitality" }, "lethargy": { id: 4, name: "Royal Jelly", recommendation: "1 tablet with breakfast" }, "exhaustion": { id: 4, name: "Royal Jelly", recommendation: "1 tablet morning and evening" }, "burnout": { id: 4, name: "Royal Jelly", recommendation: "1 tablet twice daily for energy support" }, "sluggish": { id: 4, name: "Royal Jelly", recommendation: "1 tablet with breakfast" }, "drowsy": { id: 4, name: "Royal Jelly", recommendation: "1 tablet in the morning" }, "joint pain": { id: 6, name: "Arctic Sea", recommendation: "2 softgels twice daily for joint support" }, "arthritis": { id: 6, name: "Arctic Sea", recommendation: "2 softgels twice daily for inflammation" }, "back pain": { id: 6, name: "Arctic Sea", recommendation: "2 softgels twice daily for pain relief" }, "muscle pain": { id: 6, name: "Arctic Sea", recommendation: "2 softgels twice daily for muscle recovery" }, "headache": { id: 6, name: "Arctic Sea", recommendation: "2 softgels at onset of headache" }, "migraine": { id: 6, name: "Arctic Sea", recommendation: "2 softgels at first sign of migraine" }, "neck pain": { id: 6, name: "Arctic Sea", recommendation: "2 softgels twice daily" }, "knee pain": { id: 6, name: "Arctic Sea", recommendation: "2 softgels twice daily" }, "shoulder pain": { id: 6, name: "Arctic Sea", recommendation: "2 softgels twice daily" }, "inflammation": { id: 6, name: "Arctic Sea", recommendation: "2 softgels twice daily" }, "acne": { id: 1, name: "Aloe Vera Gel", recommendation: "30ml daily and apply topically" }, "eczema": { id: 8, name: "Aloe First", recommendation: "Spray directly on affected areas" }, "psoriasis": { id: 8, name: "Aloe First", recommendation: "Apply liberally to affected areas" }, "dry skin": { id: 9, name: "Aloe Propolis Creme", recommendation: "Apply twice daily" }, "rash": { id: 8, name: "Aloe First", recommendation: "Spray on rash for cooling relief" }, "itchy skin": { id: 8, name: "Aloe First", recommendation: "Spray on affected areas" }, "sunburn": { id: 8, name: "Aloe First", recommendation: "Spray generously on sunburned skin" }, "wrinkles": { id: 9, name: "Aloe Propolis Creme", recommendation: "Apply daily to face and neck" }, "age spots": { id: 9, name: "Aloe Propolis Creme", recommendation: "Apply twice daily" } };
    let cart = [];

    // --- LOGIC ---
    // This section is also unchanged, except for the `renderProducts` function to match the new design.

    function applyGrandOpeningDiscount(products) {
      const discountRate = 0.05; // 5% discount
      return products.map(product => {
        if (product.grandOpeningSpecial) {
          return {
            ...product,
            originalPrice: product.price,
            price: product.price * (1 - discountRate),
            festivalTag: "Grand Opening Special"
          };
        }
        return product;
      });
    }

    function renderProducts() {
      const productList = document.getElementById('product-list');
      if (!productList) return;
      
      const discountedProducts = applyGrandOpeningDiscount(products);
      
      discountedProducts.sort((a, b) => {
        if (a.grandOpeningSpecial && !b.grandOpeningSpecial) return -1;
        if (!a.grandOpeningSpecial && b.grandOpeningSpecial) return 1;
        return 0;
      });
      
      productList.innerHTML = discountedProducts.map(product => {
        const isFeatured = product.grandOpeningSpecial;
        const hasDiscount = product.originalPrice !== undefined;
        
        return `
          <div class="product" id="product-${product.id}">
            ${isFeatured ? '<div class="featured-badge">Offer!</div>' : ''}
            <div class="product-image-container">
                <img src="${product.image}" alt="${product.name}" onerror="this.onerror=null;this.src='https://via.placeholder.com/200x200?text=Image+Not+Found'">
            </div>
            <div class="product-info">
                <h3>${product.name}</h3>
                <div class="price-section">
                    ${hasDiscount ? `
                        <span class="original-price">RM ${product.originalPrice.toFixed(2)}</span>
                        <span class="new-price">RM ${product.price.toFixed(2)}</span>
                    ` : `<span class="new-price">RM ${product.price.toFixed(2)}</span>`}
                </div>
                <div class="benefits"><strong>Benefits:</strong> ${product.benefits}</div>
                <div class="consumption"><strong>How to use:</strong> ${product.consumption}</div>
                <div class="product-actions">
                    <button class="btn btn-primary" onclick="addToCart(${product.id})"><i class="fa-solid fa-cart-plus"></i> Add to Cart</button>
                    <a href="https://wa.me/601111033154?text=I%20want%20to%20buy%20${encodeURIComponent(product.name)}" class="btn btn-whatsapp"><i class="fa-brands fa-whatsapp"></i> Order via WhatsApp</a>
                </div>
            </div>
          </div>
        `;
      }).join('');
    }

    function showTab(tabId) {
      document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
      const activeTab = document.getElementById(tabId);
      if(activeTab) activeTab.classList.add('active');
    }

    function toggleCart() {
      const modal = document.getElementById('cart-modal');
      const isDisplayed = modal.style.display === 'flex';
      modal.style.display = isDisplayed ? 'none' : 'flex';
      if (!isDisplayed) {
        updateCartDisplay();
      }
    }

    function addToCart(productId) {
      const productData = products.find(p => p.id === productId);
      const discountedData = applyGrandOpeningDiscount([productData])[0];

      const existingItem = cart.find(item => item.id === productId);
      
      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({
          id: discountedData.id,
          name: discountedData.name,
          price: discountedData.price,
          originalPrice: discountedData.originalPrice,
          quantity: 1
        });
      }
      
      updateCartCount();
      showAddedToCartMessage(productData.name);
    }

    function removeFromCart(productId) {
      cart = cart.filter(item => item.id !== productId);
      updateCartDisplay();
      updateCartCount();
    }
    
    function updateCartDisplay() {
      const cartItemsElement = document.getElementById('cart-items');
      const cartTotalElement = document.getElementById('cart-total');
      
      if (cart.length === 0) {
        cartItemsElement.innerHTML = '<p>Your cart is empty</p>';
        cartTotalElement.textContent = '0.00';
        return;
      }
      
      let itemsHTML = '';
      let subtotal = 0;
      
      cart.forEach(item => {
        const itemTotal = item.price * item.quantity;
        subtotal += itemTotal;
        
        itemsHTML += `
          <div class="cart-item">
            <div>
              <strong>${item.name}</strong><br>
              <small>Qty: ${item.quantity}</small>
            </div>
            <div style="display: flex; align-items: center; gap: 10px;">
              <span class="cart-item-price">RM ${itemTotal.toFixed(2)}</span>
              <span class="close" style="font-size: 20px;" onclick="removeFromCart(${item.id})">×</span>
            </div>
          </div>
        `;
      });
      
      cartItemsElement.innerHTML = itemsHTML;
      cartTotalElement.textContent = subtotal.toFixed(2);
    }

    function updateCartCount() {
      const count = cart.reduce((total, item) => total + item.quantity, 0);
      document.getElementById('cart-count').textContent = count;
    }

    function showAddedToCartMessage(productName) {
      const notification = document.createElement('div');
      notification.style.position = 'fixed';
      notification.style.bottom = '20px';
      notification.style.right = '20px';
      notification.style.backgroundColor = 'var(--primary-color)';
      notification.style.color = 'white';
      notification.style.padding = '15px';
      notification.style.borderRadius = '8px';
      notification.style.boxShadow = '0 2px 10px rgba(0,0,0,0.2)';
      notification.style.zIndex = '1001';
      notification.style.animation = 'slideIn 0.3s ease, fadeOut 0.3s ease 2.7s';
      notification.textContent = `✓ ${productName} added to cart!`;
      
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.remove();
      }, 3000);
    }

    function checkout() {
      const name = document.getElementById('customer-name').value.trim();
      const phone = document.getElementById('customer-phone').value.trim();
      
      if (!name || !phone) {
        alert('Please enter your name and phone number');
        return;
      }
      
      if (cart.length === 0) {
        alert('Your cart is empty');
        return;
      }
      
      const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
      
      let message = `Hi, I would like to place an order:\n\n`;
      message += `Name: ${name}\n`;
      message += `Phone: ${phone}\n\n`;
      message += `Order Details:\n`;
      
      cart.forEach(item => {
        const discountApplied = item.price < item.originalPrice;
        message += `- ${item.name} (Qty: ${item.quantity}) - RM ${(item.price * item.quantity).toFixed(2)}`;
        if (discountApplied) {
          message += ` (Grand Opening Discount)`;
        }
        message += `\n`;
      });
      
      message += `\nSubtotal: RM ${subtotal.toFixed(2)}\n\n`;
      message += `Please confirm my order and provide payment details. Thank you!`;
      
      const encodedMessage = encodeURIComponent(message);
      window.open(`https://wa.me/601111033154?text=${encodedMessage}`, '_blank');
    }

    function suggestProduct() {
      const input = document.getElementById("symptom-input").value.toLowerCase();
      const resultDiv = document.getElementById("suggestion-result");
      let matchedProducts = [];

      for (const [symptom, productInfo] of Object.entries(productSuggestions)) {
        if (input.includes(symptom)) {
          const existing = matchedProducts.find(p => p.id === productInfo.id);
          if (!existing) {
            matchedProducts.push(productInfo);
          }
        }
      }

      if (matchedProducts.length === 0) {
        resultDiv.innerHTML = `<p>We recommend consulting with our health advisor for personalized recommendations. 
        <a href="https://wa.me/601111033154" style="color:var(--primary-color);font-weight:bold;">Chat with us on WhatsApp</a></p>`;
      } else {
        resultDiv.innerHTML = `<h3 style="color:var(--primary-color);">Recommended Products:</h3>` + 
          matchedProducts.map(p => `
            <div class="suggestion-product">
              <div>
                <strong>${p.name}</strong><br>
                <small>${p.recommendation}</small>
              </div>
              <button class="btn btn-primary" style="padding: 5px 15px;" onclick="addToCart(${p.id})">Add</button>
            </div>
          `).join("");
      }
    }

    function closeFestivalModal() {
      localStorage.setItem('festivalPopupClosed', 'true');
      const modal = document.getElementById('festival-modal');
      modal.style.animation = "fadeOut 0.4s";
      setTimeout(() => { modal.style.display = 'none'; }, 350);
    }
    
    function setupProductSearch() {
      const searchInput = document.getElementById('product-search');
      if (!searchInput) return;
      
      searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase().trim();
        const productElements = document.querySelectorAll('.product');
        
        productElements.forEach(product => {
          const productName = product.querySelector('h3').textContent.toLowerCase();
          const productBenefits = product.querySelector('.benefits').textContent.toLowerCase();
          if (productName.includes(searchTerm) || productBenefits.includes(searchTerm)) {
            product.style.display = 'flex';
          } else {
            product.style.display = 'none';
          }
        });
      });
    }

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
      const now = new Date();
      document.getElementById('current-date').textContent = now.toLocaleDateString('en-US', { 
        year: 'numeric', month: 'long', day: 'numeric' 
      });
      
      renderProducts();
      showTab('products');
      setupProductSearch();
      
      if (localStorage.getItem('festivalPopupClosed') === 'true') {
        document.getElementById('festival-modal').style.display = 'none';
      }
      
      window.onclick = function(event) {
        const cartModal = document.getElementById('cart-modal');
        if (event.target === cartModal) {
          toggleCart();
        }
      }
    });
  </script>
</body>
</html>
